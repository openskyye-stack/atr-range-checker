<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>ATR Range Checker</title>

  <style>
    :root{
      --bg:#0b1220;
      --panel:#0f1a2e;
      --panel2:#0c1629;
      --border:#22314f;
      --text:#e8eefc;
      --muted:#a9b7d3;
      --green:#22c55e;
      --red:#ef4444;
      --btn:#1f2a44;
      --btnHover:#2a3960;
      --input:#0b1426;
      --radius:14px;
      --shadow:0 14px 40px rgba(0,0,0,.35);
      --mono: ui-monospace, SFMono-Regular, Menlo, Consolas, monospace;
      --sans: system-ui, -apple-system, Segoe UI, Roboto, Arial;
    }

    *{ box-sizing:border-box; }

    body{
      margin:0;
      background:var(--bg);
      color:var(--text);
      font-family:var(--sans);
    }

    .wrap{
      max-width:1100px;
      margin:40px auto;
      padding:0 18px 60px;
    }

    h1{
      margin:0 0 6px;
      font-size:22px;
      font-weight:700;
    }

    .sub{
      color:var(--muted);
      font-size:13px;
      margin-bottom:18px;
    }

    .grid{
      display:grid;
      grid-template-columns:1.2fr .8fr;
      gap:18px;
    }

    .card{
      background:var(--panel);
      border:1px solid var(--border);
      border-radius:var(--radius);
      box-shadow:var(--shadow);
    }

    .cardHead{
      padding:14px 16px;
      border-bottom:1px solid var(--border);
      font-weight:700;
      font-size:14px;
    }

    .cardBody{ padding:16px; }

    label{
      display:block;
      font-size:12px;
      color:var(--muted);
      margin-bottom:6px;
    }

    input, select{
      width:100%;
      padding:11px 12px;
      border-radius:12px;
      border:1px solid var(--border);
      background:var(--input);
      color:var(--text);
      font-size:14px;
      outline:none;
    }

    input::placeholder{ color:#6f7fa3; }

    .row{
      display:grid;
      grid-template-columns:1fr 1fr;
      gap:12px;
      margin-bottom:12px;
    }

    .actions{
      display:flex;
      gap:10px;
      margin-top:8px;
    }

    button{
      padding:10px 14px;
      border-radius:12px;
      border:1px solid var(--border);
      background:var(--btn);
      color:var(--text);
      font-weight:600;
      cursor:pointer;
    }

    button:hover{ background:var(--btnHover); }

    .primary{
      background:rgba(34,197,94,.18);
      border-color:rgba(34,197,94,.4);
    }

    .divider{
      height:1px;
      background:var(--border);
      margin:16px 0;
    }

    .result{
      border-radius:14px;
      padding:14px 16px;
      background:var(--panel2);
      border:1px solid var(--border);
    }

    .result.pass{
      background:rgba(34,197,94,.15);
      border-color:rgba(34,197,94,.4);
    }

    .result.fail{
      background:rgba(239,68,68,.14);
      border-color:rgba(239,68,68,.4);
    }

    .big{
      font-size:26px;
      font-weight:800;
      margin:6px 0 10px;
    }

    .muted{ color:var(--muted); font-size:13px; }
    .mono{ font-family:var(--mono); }

    ul{
      margin:10px 0 0 18px;
      color:var(--muted);
      font-size:13px;
    }

    @media(max-width:900px){
      .grid{ grid-template-columns:1fr; }
    }
  </style>
</head>

<body>
  <div class="wrap">
    <h1>ATR Range Checker</h1>
    <div class="sub">
      Manually verify whether today’s price range is meaningful relative to ATR.
    </div>

    <div class="grid">

      <!-- LEFT: Calculator -->
      <section class="card">
        <div class="cardHead">Calculator</div>
        <div class="cardBody">

          <div class="row">
            <div>
              <label>ATR Value</label>
              <input id="atr" placeholder="0.00" inputmode="decimal">
            </div>
            <div>
              <label>Threshold (% of ATR)</label>
              <select id="threshold">
                <option value="0.25">25%</option>
                <option value="0.35">35%</option>
                <option value="0.50">50%</option>
                <option value="0.60">60%</option>
                <option value="0.75">75%</option>
                <option value="1.00">100%</option>
              </select>
            </div>
          </div>

          <div class="row">
            <div>
              <label>Price High</label>
              <input id="high" placeholder="0.00" inputmode="decimal">
            </div>
            <div>
              <label>Price Low</label>
              <input id="low" placeholder="0.00" inputmode="decimal">
            </div>
          </div>

          <div class="actions">
            <button class="primary" onclick="check()">Check Condition</button>
            <button onclick="resetCalc()">Reset</button>
          </div>

          <div class="divider"></div>

          <div id="result" class="result">
            <div class="muted">Enter values and click “Check Condition”.</div>
          </div>
        </div>
      </section>

      <!-- RIGHT: Explanation -->
      <aside class="card">
        <div class="cardHead">What This Is Checking</div>
        <div class="cardBody">
          <p class="muted">
            ATR (Average True Range) measures a stock’s typical daily movement.
            This tool checks whether today’s price range is large enough relative
            to that normal volatility.
          </p>

          <div class="divider"></div>

          <p class="muted mono">Range = High − Low</p>
          <p class="muted mono">Range % of ATR = Range ÷ ATR</p>

          <div class="divider"></div>

          <p class="muted">
            Common interpretation:
          </p>
          <ul>
            <li>25–35%: Early expansion / “waking up”</li>
            <li>50–60%: Meaningful intraday volatility</li>
            <li>75–100%: Strong expansion, fewer but cleaner setups</li>
          </ul>
        </div>
      </aside>

    </div>
  </div>

  <script>
    function n(v){
      const x = Number(v);
      return Number.isFinite(x) ? x : NaN;
    }

    function check(){
      const atr = n(document.getElementById("atr").value);
      const high = n(document.getElementById("high").value);
      const low = n(document.getElementById("low").value);
      const threshold = Number(document.getElementById("threshold").value);

      const box = document.getElementById("result");

      if(!atr || !high || !low || high < low){
        box.className = "result";
        box.innerHTML = `<div class="muted">Please enter valid ATR, High, and Low values.</div>`;
        return;
      }

      const range = high - low;
      const ratio = range / atr;
      const pass = ratio >= threshold;

      box.className = `result ${pass ? "pass" : "fail"}`;
      box.innerHTML = `
        <div>${pass ? "Condition met" : "Condition not met"} (≥ ${(threshold*100).toFixed(0)}% of ATR)</div>
        <div class="big">Range: $${range.toFixed(4)}</div>
        <div class="muted">
          Range is ${(ratio*100).toFixed(2)}% of ATR
          (threshold = $${(atr*threshold).toFixed(4)})
        </div>
      `;
    }

    function resetCalc(){
      ["atr","high","low"].forEach(id => document.getElementById(id).value = "");
      document.getElementById("threshold").value = "0.25";
      document.getElementById("result").className = "result";
      document.getElementById("result").innerHTML =
        `<div class="muted">Enter values and click “Check Condition”.</div>`;
    }
  </script>
</body>
</html>
